import{a as B}from"./chunk-LJL2VTHK.js";import{Aa as r,Ca as h,Fa as f,Ga as w,Ha as D,Ja as g,Ka as F,La as U,Na as b,O as p,P as u,Ra as H,Sa as M,Ta as R,Wa as P,Xa as j,Ya as O,_a as x,ab as $,ca as E,cb as k,da as c,db as N,eb as z,f as L,fb as m,i as _,k as C,la as v,ma as s,oa as T,sa as a,t as I,ta as n,ua as d,xa as y}from"./chunk-LMBD4G5S.js";import{a as S}from"./chunk-77EUENG2.js";var X=()=>({exact:!0}),ee=e=>["/profile",e];function te(e,t){e&1&&(a(0,"ul",4)(1,"li",5)(2,"a",6),r(3," Home "),n()(),a(4,"li",5)(5,"a",7),r(6," Sign in "),n()(),a(7,"li",5)(8,"a",8),r(9," Sign up "),n()()())}function ie(e,t){if(e&1&&d(0,"img",16),e&2){let i=y();s("src",i.image,E)}}function ne(e,t){if(e&1&&(a(0,"li",5)(1,"a",14),v(2,ie,1,1,"img",15),r(3),n()()),e&2){let i=t;c(),s("routerLink",D(3,ee,i.username)),c(),s("ngIf",i.image),c(),h(" ",i.username," ")}}function re(e,t){if(e&1&&(a(0,"ul",4)(1,"li",5)(2,"a",9),r(3," Home "),n()(),a(4,"li",5)(5,"a",10),d(6,"i",11),r(7,"\xA0New Article "),n()(),a(8,"li",5)(9,"a",12),d(10,"i",13),r(11,"\xA0Settings "),n()(),v(12,ne,4,5,"li",5),g(13,"async"),n()),e&2){let i,l=y();c(2),s("routerLinkActiveOptions",w(4,X)),c(10),T((i=F(13,2,l.currentUser$))?12:-1,i)}}var q=(()=>{let t=class t{constructor(){this.currentUser$=p(m).currentUser}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["app-layout-header"]],standalone:!0,features:[f],decls:6,vars:2,consts:[[1,"navbar","navbar-light"],[1,"container"],["routerLink","/",1,"navbar-brand"],["class","nav navbar-nav pull-xs-right",4,"ifAuthenticated"],[1,"nav","navbar-nav","pull-xs-right"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["routerLink","/login","routerLinkActive","active",1,"nav-link"],["routerLink","/register","routerLinkActive","active",1,"nav-link"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/editor","routerLinkActive","active",1,"nav-link"],[1,"ion-compose"],["routerLink","/settings","routerLinkActive","active",1,"nav-link"],[1,"ion-gear-a"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["class","user-pic",3,"src",4,"ngIf"],[1,"user-pic",3,"src"]],template:function(o,A){o&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),r(3,"conduit"),n(),v(4,te,10,0,"ul",3)(5,re,14,5,"ul",3),n()()),o&2&&(c(4),s("ifAuthenticated",!1),c(),s("ifAuthenticated",!0))},dependencies:[N,k,M,H,B],encapsulation:2});let e=t;return e})();var W=(()=>{let t=class t{constructor(){this.today=Date.now()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["app-layout-footer"]],standalone:!0,features:[f],decls:10,vars:4,consts:[[1,"container"],["routerLink","/",1,"logo-font"],[1,"attribution"],["href","https://github.com/gothinkster/realworld"]],template:function(o,A){o&1&&(a(0,"footer")(1,"div",0)(2,"a",1),r(3,"conduit"),n(),a(4,"span",2),r(5),g(6,"date"),a(7,"a",3),r(8,"RealWorld OSS Project"),n(),r(9,". Code licensed under MIT. "),n()()()),o&2&&(c(5),h(" \xA9 ",U(6,1,A.today,"yyyy"),". An interactive learning project from "))},dependencies:[R,k],encapsulation:2,changeDetection:0});let e=t;return e})();var Y=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["app-root"]],standalone:!0,features:[f],decls:3,vars:0,template:function(o,A){o&1&&d(0,"app-layout-header")(1,"router-outlet")(2,"app-layout-footer")},dependencies:[q,$,W],encapsulation:2});let e=t;return e})();var Z=[{path:"",loadComponent:()=>import("./chunk-RPYU34YA.js")},{path:"login",loadComponent:()=>import("./chunk-4XG6XQ5H.js"),canActivate:[()=>p(m).isAuthenticated.pipe(C(e=>!e))]},{path:"register",loadComponent:()=>import("./chunk-4XG6XQ5H.js"),canActivate:[()=>p(m).isAuthenticated.pipe(C(e=>!e))]},{path:"settings",loadComponent:()=>import("./chunk-NP5AX7TT.js"),canActivate:[()=>p(m).isAuthenticated]},{path:"profile",loadChildren:()=>import("./chunk-2KPVG6SZ.js")},{path:"editor",children:[{path:"",loadComponent:()=>import("./chunk-44PYI64J.js"),canActivate:[()=>p(m).isAuthenticated]},{path:":slug",loadComponent:()=>import("./chunk-44PYI64J.js"),canActivate:[()=>p(m).isAuthenticated]}]},{path:"article/:slug",loadComponent:()=>import("./chunk-33CETD43.js")}];var G=(e,t)=>{let i=e.clone({url:`https://api.realworld.io/api${e.url}`});return t(i)};var K=(e,t)=>{let i=p(x).getToken(),l=e.clone({setHeaders:S({},i?{Authorization:`Token ${i}`}:{})});return t(l)};var Q=(e,t)=>t(e).pipe(I(i=>_(()=>i.error)));function oe(e,t){return()=>e.getToken()?t.getCurrentUser():L}var V={providers:[z(Z),P(j([G,K,Q])),{provide:b,useFactory:oe,deps:[x,m],multi:!0}]};O(Y,V).catch(e=>console.error(e));
