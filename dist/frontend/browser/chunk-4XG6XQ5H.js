import{a as I,b as c,c as R,d as A,e as D,g as h,h as k,j as G,k as L,m as j,n as q}from"./chunk-SRQIWDXQ.js";import{$a as N,Aa as m,Ba as C,Ca as F,Fa as _,Ga as v,O as g,P as b,Z as y,bb as T,cb as w,da as i,ea as p,fb as E,gb as x,la as f,ma as s,oa as d,sa as r,ta as n,ua as l,wa as S}from"./chunk-LMBD4G5S.js";import"./chunk-77EUENG2.js";var M=()=>["/login"],U=()=>["/register"];function V(t,o){t&1&&(r(0,"a",5),m(1,"Have an account?"),n()),t&2&&s("routerLink",v(1,M))}function H(t,o){t&1&&(r(0,"a",5),m(1,"Need an account?"),n()),t&2&&s("routerLink",v(1,U))}function O(t,o){t&1&&l(0,"input",10)}var ee=(()=>{let o=class o{constructor(u,a,e){this.route=u,this.router=a,this.userService=e,this.authType="",this.title="",this.errors={errors:{}},this.isSubmitting=!1,this.destroyRef=g(y),this.authForm=new D({email:new h("",{validators:[c.required],nonNullable:!0}),password:new h("",{validators:[c.required],nonNullable:!0})})}ngOnInit(){this.authType=this.route.snapshot.url.at(-1).path,this.title=this.authType==="login"?"Sign in":"Sign up",this.authType==="register"&&this.authForm.addControl("username",new h("",{validators:[c.required],nonNullable:!0}))}submitForm(){this.isSubmitting=!0,this.errors={errors:{}},(this.authType==="login"?this.userService.login(this.authForm.value):this.userService.register(this.authForm.value)).pipe(x(this.destroyRef)).subscribe({next:()=>void this.router.navigate(["/"]),error:a=>{this.errors=a,this.isSubmitting=!1}})}};o.\u0275fac=function(a){return new(a||o)(p(N),p(T),p(E))},o.\u0275cmp=b({type:o,selectors:[["app-auth-page"]],standalone:!0,features:[_],decls:20,vars:9,consts:[[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"routerLink"],[3,"errors"],[3,"ngSubmit","formGroup"],[3,"disabled"],[1,"form-group"],["formControlName","username","placeholder","Username","type","text",1,"form-control","form-control-lg"],["formControlName","email","placeholder","Email","type","text",1,"form-control","form-control-lg"],["formControlName","password","placeholder","Password","type","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"]],template:function(a,e){a&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),m(5),n(),r(6,"p",4),f(7,V,2,2,"a",5)(8,H,2,2,"a",5),n(),l(9,"app-list-errors",6),r(10,"form",7),S("ngSubmit",function(){return e.submitForm()}),r(11,"fieldset",8)(12,"fieldset",9),f(13,O,1,0,"input",10),n(),r(14,"fieldset",9),l(15,"input",11),n(),r(16,"fieldset",9),l(17,"input",12),n(),r(18,"button",13),m(19),n()()()()()()()),a&2&&(i(5),C(e.title),i(2),d(e.authType==="register"?7:-1),i(),d(e.authType==="login"?8:-1),i(),s("errors",e.errors),i(),s("formGroup",e.authForm),i(),s("disabled",e.isSubmitting),i(2),d(e.authType==="register"?13:-1),i(5),s("disabled",!e.authForm.valid),i(),F(" ",e.title," "))},dependencies:[w,q,j,k,I,R,A,G,L],encapsulation:2});let t=o;return t})();export{ee as default};
